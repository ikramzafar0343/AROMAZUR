<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <title>
      {{ page_title }}
      {%- if current_tags -%}
        &ndash; {{ current_tags | join: ', ' }}
      {%- endif -%}
      {%- if current_page != 1 -%}
        &ndash; {{ 'general.pagination.page' | t: number: current_page }}
      {%- endif -%}
      {%- unless page_title contains shop.name -%}
        &ndash; {{ shop.name }}
      {%- endunless -%}
    </title>

    {%- if page_description -%}
      {%- assign meta_desc = page_description | strip_html | strip_newlines | escape -%}
      {%- if meta_desc.size > 160 -%}
        {%- assign meta_desc = meta_desc | truncate: 157 -%}
      {%- endif -%}
      <meta name="description" content="{{ meta_desc }}">
    {%- endif -%}

    <link rel="canonical" href="{{ canonical_url }}">

    {%- comment -%} Preconnect for faster asset delivery (Core Web Vitals / LCP) {%- endcomment -%}
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>

    {%- comment -%} Open Graph fallbacks (Shopify may inject via content_for_header when SEO fields set) {%- endcomment -%}
    <meta property="og:site_name" content="{{ shop.name | escape }}">
    <meta property="og:url" content="{{ canonical_url }}">
    <meta property="og:title" content="{{ page_title | escape }}">
    {%- if page_description -%}
      <meta property="og:description" content="{{ meta_desc | default: page_description | strip_html | escape }}">
    {%- endif -%}
    <meta property="og:type" content="{% if template.name == 'product' %}product{% else %}website{% endif %}">
    <meta property="og:locale" content="{{ request.locale.iso_code }}">
    {%- if template.name == 'product' and product.featured_image -%}
      <meta property="og:image" content="https:{{ product.featured_image | image_url: width: 1200 }}">
      <meta property="og:image:width" content="1200">
      <meta property="og:image:height" content="{{ 1200 | divided_by: product.featured_image.aspect_ratio | round }}">
    {%- endif -%}

    {{ content_for_header }}

    <style>
      :root {
        --color-bg: {{ settings.color_background | default: '#ffffff' }};
        --color-text: {{ settings.color_text | default: '#111111' }};
        --color-accent: {{ settings.color_accent | default: '#1a73e8' }};
      }
    </style>

    {{ 'base.css' | asset_url | stylesheet_tag }}
    <script src="{{ 'theme.js' | asset_url }}" defer></script>
  </head>

  <body class="template-{{ template.name | handle }}" data-shop-money-format="{{ shop.money_format | escape }}" data-free-shipping-threshold="10000" data-cart-gift-threshold="10700">
    <a class="skip-to-content-link" href="#MainContent">
      {{ 'accessibility.skip_to_content' | t }}
    </a>

    {% sections 'header-group' %}

    <main id="MainContent" role="main" tabindex="-1">
      {{ content_for_layout }}
    </main>

    {% sections 'footer-group' %}

    {% render 'cookie-consent' %}
    {% render 'newsletter-popup' %}
  </body>
</html>
