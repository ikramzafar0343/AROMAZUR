<section class="main-cart az-page-transition">
  <div class="page-width">
    <h1 class="az-fade-in az-fade-in--up">Cart</h1>

    {% if cart.item_count == 0 %}
      <div class="az-fade-in az-fade-in--up az-fade-in--delay-1" style="text-align: center; padding: var(--spacing-3xl) 0;">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin: 0 auto var(--spacing-lg); color: var(--color-text-muted);">
          <path d="M6 12H18L17 22H7L6 12Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M10 2H14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7V11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <p style="font-size: 18px; font-weight: 800; color: var(--color-text); margin-bottom: var(--spacing-md);">Your cart is empty.</p>
        <p><a href="{{ routes.all_products_collection_url }}" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: var(--color-text); color: #fff; text-decoration: none; border-radius: var(--radius-md); font-weight: 800; text-transform: uppercase; letter-spacing: 0.05em; transition: transform var(--transition-fast), opacity var(--transition-fast);">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Continue shopping
        </a></p>
      </div>
    {% else %}
      {% form 'cart', cart %}
        <table class="az-fade-in az-fade-in--up az-fade-in--delay-1">
          <thead>
            <tr>
              <th scope="col">Product</th>
              <th scope="col">Quantity</th>
              <th scope="col">Total</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td data-label="Product">
                  <a href="{{ item.url }}" style="display: flex; align-items: center; gap: var(--spacing-md);">
                    {% if item.image %}
                      <img src="{{ item.image | image_url: width: 80 }}" alt="{{ item.title }}" style="width: 80px; height: 80px; object-fit: cover; border-radius: var(--radius-sm);">
                    {% endif %}
                    <div>
                      <div style="font-weight: 800; color: var(--color-text);">{{ item.product.title }}</div>
                      {% if item.variant.title != 'Default Title' %}
                        <div style="font-size: 13px; color: var(--color-text-muted); margin-top: var(--spacing-xs);">{{ item.variant.title }}</div>
                      {% endif %}
                    </div>
                  </a>
                </td>
                <td data-label="Quantity">
                  <input
                    type="number"
                    name="updates[]"
                    value="{{ item.quantity }}"
                    min="0"
                    aria-label="Quantity">
                </td>
                <td data-label="Total" style="font-weight: 900; color: var(--color-text);">
                  {{ item.final_line_price | money }}
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <div class="cart-summary az-fade-in az-fade-in--up az-fade-in--delay-2">
          <p><strong>Subtotal:</strong> {{ cart.total_price | money }}</p>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
            <button type="submit" name="update">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
                <path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Update
            </button>
            <button type="submit" name="checkout">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
                <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Checkout
            </button>
          </div>
        </div>
      {% endform %}
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Cart",
  "tag": "section",
  "class": "section-main-cart",
  "settings": []
}
{% endschema %}
